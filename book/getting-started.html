
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <title>Getting Started Â· GitBook</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.0">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Getting Started</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="installation">Installation</h2><p>Install via NPM:</p><p><code>npm install satcheljs --save</code></p><p>In order to use Satchel with React, you&apos;ll also need MobX and the MobX React bindings:</p><p><code>npm install mobx --save</code></p><p><code>npm install mobx-react --save</code></p><h2 id="usage">Usage</h2><p>The following examples assume you&apos;re developing in Typescript.</p><h3 id="create-a-store-with-some-initial-state">Create a store with some initial state</h3><pre><code class="lang-typescript"><span class="hljs-keyword">interface</span> MyStoreSchema {
    foo: <span class="hljs-built_in">number</span>;
    bar: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">var</span> myStore = createStore&lt;MyStoreSchema&gt;(
    <span class="hljs-string">&quot;mystore&quot;</span>,
    {
        foo: <span class="hljs-number">1</span>,
        bar: <span class="hljs-string">&quot;baz&quot;</span>
    });</code></pre>
<h3 id="create-a-component-that-consumes-your-state">Create a component that consumes your state</h3><p>Notice the @observer decorator on the component---this is what tells MobX to rerender the component if any of the data it relies on changes.</p><pre><code class="lang-typescript">@observer
class ApplicationComponent extends React.Component&lt;any, any&gt; {
    render() {
        return (&lt;div&gt;foo is {myStore.foo}&lt;/div&gt;);
    }
}</code></pre>
<h3 id="implement-an-action-to-update-the-store">Implement an action to update the store</h3><pre><code class="lang-typescript"><span class="hljs-keyword">let</span> updateFoo =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateFoo</span>(<span class="hljs-params">newFoo: <span class="hljs-built_in">number</span></span>) </span>{
        myStore.foo = newFoo;
    };

updateFoo = action(<span class="hljs-string">&quot;updateFoo&quot;</span>)(updateFoo);</code></pre>
<p>Note that the above is just syntactic sugar for applying an @action decorator.  Typescript doesn&apos;t support decorators on function expressions yet, but it will in 2.0.  At that point the syntax for creating an action will be simply:</p><pre><code class="lang-typescript"><span class="hljs-keyword">let</span> updateFoo =
    @action(<span class="hljs-string">&quot;updateFoo&quot;</span>)
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateFoo</span>(<span class="hljs-params">newFoo: <span class="hljs-built_in">number</span></span>) </span>{
        myStore.foo = newFoo;
    };</code></pre>
<h3 id="call-the-action">Call the action</h3><p>It&apos;s just a function:</p><pre><code class="lang-typescript">updateFoo(<span class="hljs-number">2</span>);</code></pre>
<h3 id="asynchronous-actions">Asynchronous actions</h3><p>Often actions will need to do some sort of asynchronous work (such as making a server request) and then update the state based on the result.
Since the asynchronous callback happens outside of the context of the original action the callback itself must be an action too.
(Again, this syntax will be simplified once Typescript 2.0 is available.)</p><pre><code class="lang-typescript"><span class="hljs-keyword">let</span> updateFooAsync =
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateFooAsync</span>(<span class="hljs-params">newFoo: <span class="hljs-built_in">number</span></span>) </span>{
        <span class="hljs-comment">// You can modify the state in the original action</span>
        myStore.loading = <span class="hljs-literal">true</span>;

        <span class="hljs-comment">// doSomethingAsync returns a promise</span>
        doSomethingAsync().then(
            action(<span class="hljs-string">&quot;doSomethingAsyncCallback&quot;</span>)(
                () =&gt; {
                    <span class="hljs-comment">// Modify the state again in the callback</span>
                    myStore.loading = <span class="hljs-literal">false</span>;
                    myStore.foo = newFoo;
                }));
    };

updateFooAsync = action(<span class="hljs-string">&quot;updateFooAsync&quot;</span>)(updateFooAsync);</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Getting Started","level":"1.2","depth":1,"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"getting-started.md","mtime":"2016-08-03T19:20:23.000Z","type":"markdown"},"gitbook":{"version":"3.2.0","time":"2016-08-03T20:13:49.373Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

